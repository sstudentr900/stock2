<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  </head>
  <body>
    <script>
    //FMP
    //https://site.financialmodelingprep.com/developer/docs/dashboard
    // const API_KEY = 'c4fc90d3045be9eb01ab35183c7d393b'
    // const STOCK_NAME = 'AAPL'
    // const DATA_FROM = '2022-07-01'
    // const DATA_TO = '2022-08-20'
    // const STOCK_DATS = '20160501'
    // const STOCK_NO = '2330'
    // const STOCK_URL = 'https://openapi.twse.com.tw/v1/exchangeReport/STOCK_DAY_AVG_ALL'
    // const STOCK_URL = 'https://www.twse.com.tw/exchangeReport/STOCK_DAY_AVG?response=json&date=20220826&stockNo=2330&_=1661525093976'
    // const STOCK_URL = `https://financialmodelingprep.com/api/v3/historical-price-full/${STOCK_NAME}?from=${DATA_FROM}&to=${DATA_TO}&apikey=${API_KEY}`
    // fetch(STOCK_URL,{})
    // .then((res)=>res.json())
    // .then((data)=>{
    //   console.log(data)
    // })

    var data = null;
    var xhr = new XMLHttpRequest();
    xhr.withCredentials = true;

    xhr.addEventListener("readystatechange", function () {
      if (this.readyState === 4) {
        console.log(this.responseText);
      }
    });

    xhr.open("GET", "http://www.twse.com.tw/exchangeReport/STOCK_DAY?response=json&date=20220824&stockNo=2330");
    xhr.setRequestHeader("cache-control", "no-cache");
    xhr.setRequestHeader("postman-token", "48d55a9e-ca97-ba0c-2f84-d091a15ac8e2");

    xhr.send(data);
    </script>
  </body>
</html>
